
# urql - GraphQL Client Overview

## Table of Contents
- [What is urql?](#what-is-urql)
- [Does urql Auto-Generate Queries/Mutations?](#does-urql-auto-generate-queriesmutations)
- [Does urql Auto-Generate Types/DTOs?](#does-urql-auto-generate-typesdtos)
- [State Management Integration](#state-management-integration)
- [Caching Implementation](#caching-implementation)
- [GraphQL Integration](#graphql-integration)
- [Maintenance & Support](#maintenance--support)

---

## What is urql?

**urql** is a highly customizable and versatile GraphQL client for React, Svelte, Vue, and plain JavaScript. It's designed to be lightweight, extensible, and developer-friendly.

**Key Features:**
- ğŸ¯ Lightweight and fast
- ğŸ”§ Highly customizable via exchanges
- ğŸ“¦ Framework support (React, Vue, Svelte)
- ğŸ’¾ Built-in caching
- ğŸ”Œ Extensible architecture

---

## Does urql Auto-Generate Queries/Mutations?

### âŒ No

urql does **NOT** auto-generate queries or mutations. You must write them yourself.

**You write:**
```typescript
import { gql } from 'urql';

export const GET_USERS_QUERY = gql`
  query GetUsers {
    users {
      id
      name
      email
    }
  }
`;

urql executes:

`import { useQuery } from 'urql';

const [result] = useQuery({ query: GET_USERS_QUERY });`

Why? urql is a client, not a code generator. It executes GraphQL operations you define.

Does urql Auto-Generate Types/DTOs?

âŒ No

urql does NOT generate TypeScript types or DTOs. For type generation, you need GraphQL Code Generator.
The Complete Stack:

Tool	Purpose
urql	GraphQL client - executes queries
GraphQL Code Generator	Generates TypeScript types & typed hooks
Example Workflow:

export const GET_USER_QUERY = gql`
  query GetUser($id: ID!) {
    user(id: $id) {
      id
      name
    }
  }
`;

2. Run Codegen:
bash
npm run codegen

3. Use Generated Types (Auto-generated):

// Generated by GraphQL Code Generator
export type GetUserQuery = {
  user: {
    id: string;
    name: string;
  };
};

export function useGetUserQuery(options: UseQueryArgs<GetUserQueryVariables>) {
  return useQuery<GetUserQuery>({ query: GET_USER_QUERY, ...options });
}

4. Use in Component:

const [result] = useGetUserQuery({ variables: { id: '123' } });
// result.data is fully typed! âœ…

State Management Integration

âŒ Not Built-in, âœ… But Easy to Integrate

urql does NOT come with built-in state management integration, but it works seamlessly with any store.
Integration with Zustand

Option 1: Store Query Results

import { create } from 'zustand';
import { useGetUsersQuery } from '@/hooks/graphql';

// Zustand Store
interface UserStore {
  users: User[];
  setUsers: (users: User[]) => void;
}

export const useUserStore = create<UserStore>((set) => ({
  users: [],
  setUsers: (users) => set({ users }),
}));

// Component
function UserList() {
  const { setUsers } = useUserStore();
  const [result] = useGetUsersQuery();

  useEffect(() => {
    if (result.data?.users) {
      setUsers(result.data.users);
    }
  }, [result.data, setUsers]);

  return <div>{/* render users */}</div>;
}

Option 2: Store Query Variables

interface FilterStore {
  searchTerm: string;
  sortOrder: 'ASC' | 'DESC';
  setSearchTerm: (term: string) => void;
  setSortOrder: (order: 'ASC' | 'DESC') => void;
}

export const useFilterStore = create<FilterStore>((set) => ({
  searchTerm: '',
  sortOrder: 'ASC',
  setSearchTerm: (searchTerm) => set({ searchTerm }),
  setSortOrder: (sortOrder) => set({ sortOrder }),
}));

// Component
function FilteredList() {
  const { searchTerm, sortOrder } = useFilterStore();
  
  const [result] = useGetUsersQuery({
    variables: {
      search: searchTerm,
      order: sortOrder,
    },
  });

  return <div>{/* ... */}</div>;
}

Option 3: Custom urql Exchange with Zustand

import { makeOperation } from '@urql/core';
import { pipe, tap } from 'wonka';

const zustandExchange = ({ forward }) => (ops$) => {
  return pipe(
    forward(ops$),
    tap((result) => {
      // Update Zustand store on every query result
      if (result.data) {
       useYourStore.getState().updateFromUrql(result.data);
      }
    })
  );
};

Integration Difficulty: â­â­â˜†â˜†â˜† (Easy)

urql and Zustand work independently. You simply:
Use urql hooks to fetch data
Store results in Zustand if needed
Use Zustand to manage UI state/filters

Caching Implementation

âœ… Yes - Multiple Caching Strategies

urql implements two caching strategies:

1. Document Cache (Default)

Built-in, automatic, zero-config

import { createClient } from 'urql';

const client = createClient({
  url: 'https://api.example.com/graphql',
  // Document cache enabled by default
});

How it works:
Caches by query + variables
Simple key-value storage
Fast and lightweight
Good for most use cases
Example:

// First call - fetches from network
const [result1] = useGetUserQuery({ variables: { id: '1' } });

// Second call with same variables - returns from cache
const [result2] = useGetUserQuery({ variables: { id: '1' } });

// Different variables - fetches from network
const [result3] = useGetUserQuery({ variables: { id: '2' } });

2. Normalized Cache (Graphcache)

Opt-in, advanced, normalized storage
bash

npm install @urql/exchange-graphcache


import { createClient, fetchExchange } from 'urql';
import { cacheExchange } from '@urql/exchange-graphcache';

const client = createClient({
  url: 'https://api.example.com/graphql',
  exchanges: [
    cacheExchange({
      keys: {
        User: (data) => data.id,
        Post: (data) => data.id,
      },
    }),
    fetchExchange,
  ],
});

How it works:
Normalizes data like Apollo Client
Stores entities by ID
Automatic cache updates across queries
Deduplicates data
Example:

// Query 1: Get user in a list
const users = useGetUsersQuery(); // [{ id: '1', name: 'Alice' }]

// Query 2: Get same user individually
const user = useGetUserQuery({ variables: { id: '1' } });

// Both share the same cached entity!
// Updating one updates both automatically âœ¨

Cache Comparison

Feature	    Document Cache	    Normalized Cache
Setup	    Zero config	        Requires setup
Performance	Fast	            Slightly slower
Memory	    More usage	        Less usage (deduplicated)
Auto-updates	No	            Yes
Use case	Simple apps	        Complex apps


GraphQL Integration

âœ… Yes - It is a GraphQL Client!

urql is specifically built for GraphQL. It does not work with REST APIs.
What urql Does:

import { createClient, useQuery, useMutation } from 'urql';

// 1. Create GraphQL client
const client = createClient({
  url: 'https://api.example.com/graphql',
});

// 2. Execute GraphQL queries
const [result] = useQuery({ query: GET_USERS_QUERY });

// 3. Execute GraphQL mutations
const [result, executeMutation] = useMutation(UPDATE_USER_MUTATION);

// 4. Execute GraphQL subscriptions
const [result] = useSubscription({ query: USER_UPDATED_SUBSCRIPTION });

GraphQL Features Supported:

âœ… Queries
âœ… Mutations
âœ… Subscriptions
âœ… Fragments
âœ… Variables
âœ… Directives
âœ… File uploads
âœ… Batching
âœ… Persisted queries

urql is NOT:

âŒ A REST client
âŒ A general HTTP client
âŒ A replacement for fetch/axios

Maintenance & Support

âœ… Actively Maintained

Latest Version: 5.0.1
Last Published: August 2025 (4 months ago as of January 2026)
Maintainer: Formidable Labs / NearForm
License: MIT
GitHub: urql-graphql/urql
Release History:

v5.0.1 - August 2025 (Latest)
v5.0.0 - Major release 2025
v4.x - 2023-2024
v3.x - 2022-2023

Community:

â­ 8k+ GitHub stars
ğŸ“¦ 500k+ weekly npm downloads
ğŸ’¬ Active Discord community
ğŸ“š Comprehensive documentation

Support Status:

âœ… Regular updates
âœ… Bug fixes
âœ… Security patches
âœ… Active issue tracking
âœ… Community support

Compared to Alternatives:

Client	Last Update	Status
urql	Aug 2025	âœ… Active
Apollo Client	2025	âœ… Active
React Query	2025	âœ… Active
Relay	2025	âœ… Active

Quick Reference

Question	Answer
Auto-generates queries?	âŒ No - you write them
Auto-generates types?	âŒ No - use GraphQL Codegen
Built-in state management?	âŒ No - but integrates easily
Implements caching?	âœ… Yes - document & normalized
Works with GraphQL?	âœ… Yes - it is a GraphQL client
Actively maintained?	âœ… Yes - v5.0.1 (Aug 2025)

Recommended Stack

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Your React/Vue/Svelte App         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Zustand (State Management)        â”‚ â† Optional
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   urql (GraphQL Client)             â”‚ â† Required
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   GraphQL Code Generator            â”‚ â† Type Safety
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   GraphQL API                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Installation

bash

# Core urql
npm install urql graphql

# For TypeScript type generation
npm install -D @graphql-codegen/cli @graphql-codegen/typescript @graphql-codegen/typescript-operations @graphql-codegen/typescript-urql

# For normalized caching (optional)
npm install @urql/exchange-graphcache

# For state management (optional)
npm install zustand

Learn More

ğŸ“– Official Documentation
ğŸ™ GitHub Repository
ğŸ“¦ NPM Package
ğŸ’¬ Discord Community


**Internet Sources (Direct Search):**
- [1] [urql on npm - Latest version 5.0.1](https://www.npmjs.com/package/urql)
- [2] [urql GitHub Repository](https://github.com/urql-graphql/urql)
- [3] [Normalized Caching Documentation](https://nearform.com/open-source/urql/docs/graphcache/normalized-caching/)

